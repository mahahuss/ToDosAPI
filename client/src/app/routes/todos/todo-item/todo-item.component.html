@if (todoTask) {
  <div class="py-3 text-sm">
    <div
      class="flex justify-start cursor-pointer bg-base-100 text-gray-700 hover:text-gray-400 hover:bg-gray-100 rounded-md px-2 py-4 my-2 shadow"
    >
      @if (!updateClickStatus) {
        <div class="flex-grow font-medium px-2 whitespace-pre" (click)="updateStatus(todoTask!)">
          {{ todoTask.taskContent }}
        </div>

        <div class="text-sm font-normal text-gray-500 tracking-wide">
          {{ todoTask.createdDate | date }}
        </div>
        <div class="pl-4">
          <button class="btn btn-outline btn-warning btn-xs btn-circle" (click)="toggleEdit()">
            <li class="fa-solid fa-pen-to-square"></li>
          </button>
        </div>
        <div class="pl-4">
          <button class="btn btn-outline btn-error btn-xs btn-circle" (click)="onDeleteClick()">
            <i class="fa-solid fa-trash"></i>
          </button>
        </div>
        <div class="pl-4">
          <button
            [class.btn-primary]="todoTask.status"
            [class.btn-default]="!todoTask.status"
            class="btn btn-outline btn-xs btn-circle"
            (click)="todoTask.status = !todoTask.status"
          >
            <i class="fa-solid" [class.fa-check]="todoTask.status" [class.fa-minus]="!todoTask.status"></i>
          </button>
        </div>
        @if (taskFilesExistence) {
          <div class="pl-4">
            <button class="btn btn-outline btn-default btn-xs btn-circle" (click)="viewFiles()">
              <i class="fa-solid fa-file"></i>
            </button>
          </div>
        }
      } @else {
        <div class="flex flex-grow space-x-3 font-medium px-2 items-center">
          <textarea
            id="taskContent"
            [ariaMultiLine]="true"
            type="text"
            class="input input-bordered input-primary w-9/12"
            [(ngModel)]="content"
            #focusTaskInput
          >
          </textarea>
          <button class="btn btn-ghost btn-xs btn-circle" (click)="updateTask(todoTask!)">
            <i class="fas fa-check text-success"></i>
          </button>
          <button class="btn btn-ghost btn-xs btn-circle" (click)="toggleEdit()">
            <i class="fas fa-text-error"></i>
          </button>
        </div>
      }
    </div>
  </div>
  @if (filesClickStatus) {
    <app-todo-files-dialog [todoTask]="this.todoTask" (filesViewClosed)="filesViewClosed()"></app-todo-files-dialog>
  }
}
